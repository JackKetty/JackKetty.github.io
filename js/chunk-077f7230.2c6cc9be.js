(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-077f7230"],{"4c82":function(t,e,n){"use strict";n("fada")},"4fe8":function(t,e,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-4a03b344");var s=["onClick"],a={class:"_shopMerchant align-self-center d-flex flex-column px-3"},o=Object(c["n"])("div",{class:" d-flex justify-content-start align-items-center pt-1"},[Object(c["n"])("i",{class:"iconfont icon-dianpu ",style:{color:"#52C48F","font-size":"25px"}}),Object(c["n"])("span",{class:"txt-body px-1 ",style:{color:"#B956A8","font-weight":"bold"}},"书小狸书店")],-1),r={class:"_shopBox container-fluid justify-content-start pb-1 d-flex flex-row justify-content-start px-0 mx-0"},l={class:"row w-100 px-2 d-flex justify-content-between"},i={class:"col-4 col-sm-4 col-md-3  d-flex justify-content-start align-items-center px-0 mx-0"},u=["src"],d={class:"_shopMessage col-8 col-sm-8 col-md-9 px-1 d-flex flex-column justify-content-between align-items-start px-0 mx-0"},b={class:"txt-body font-weight-bold py-1 text-truncate"},p={class:"_shopNum txt-subbody d-flex flex-row justify-content-between align-items-center w-100"},f=Object(c["n"])("span",{class:"border border-danger border-lg text-danger px-1 text-truncate"},"标准款式",-1),j={class:" d-flex justify-content-between  w-100 py-1"},m={class:"txt-body d-flex pt-1"},O={class:" text-danger "},x=Object(c["n"])("span",{class:"d-none d-sm-block px-0 px-sm-2 px-md-4 text-danger "},"特惠商品",-1);function g(t,e,n,g,y,h){return Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.allList,(function(e,n){return Object(c["M"])(),Object(c["m"])("div",{class:"_shopItemBox bg-white mt-3 d-flex flex-column",key:n},[Object(c["n"])("div",{class:"_shopItem ",style:{width:"100%",float:"right","border-bottom":"2px solid #F9E8E8"},onClick:function(n){return t.$router.push({path:"/detail",query:{id:e.goods.id}})}},[Object(c["n"])("div",a,[o,Object(c["n"])("div",r,[Object(c["n"])("div",l,[Object(c["n"])("div",i,[Object(c["n"])("img",{src:e.goods.cover_url,alt:"",style:{"max-width":"112px"},class:" align-self-center img-fluid img-thumbnail"},null,8,u)]),Object(c["n"])("div",d,[Object(c["n"])("div",b,Object(c["Z"])(e.goods.title),1),Object(c["n"])("div",p,[f,Object(c["U"])(t.$slots,"numSlot",{item:e},void 0,!0)]),Object(c["n"])("div",j,[Object(c["n"])("div",m,[Object(c["n"])("span",O,"￥"+Object(c["Z"])(e.goods.price),1),x]),Object(c["U"])(t.$slots,"cancelSlot",{id:e.goods.id},void 0,!0)])])])])])],8,s),Object(c["U"])(t.$slots,"bottom",{item:e},void 0,!0)])})),128)}Object(c["N"])();var y=n("6c02"),h=(n("1157"),{name:"GoodsItem",props:{allList:{type:Array,default:function(){return[]}},path:{type:String,default:function(){return"/"}}},setup:function(t,e){Object(y["d"])(),Object(c["R"])(!1)}}),v=(n("c31e"),n("d959")),C=n.n(v);const w=C()(h,[["render",g],["__scopeId","data-v-4a03b344"]]);e["a"]=w},"99af":function(t,e,n){"use strict";var c=n("23e7"),s=n("d039"),a=n("e8b5"),o=n("861d"),r=n("7b0b"),l=n("50c4"),i=n("8418"),u=n("65f0"),d=n("1dde"),b=n("b622"),p=n("2d00"),f=b("isConcatSpreadable"),j=9007199254740991,m="Maximum allowed index exceeded",O=p>=51||!s((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),x=d("concat"),g=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)},y=!O||!x;c({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,c,s,a,o=r(this),d=u(o,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(a=-1===e?o:arguments[e],g(a)){if(s=l(a.length),b+s>j)throw TypeError(m);for(n=0;n<s;n++,b++)n in a&&i(d,b,a[n])}else{if(b>=j)throw TypeError(m);i(d,b++,a)}return d.length=b,d}})},b6d8:function(t,e,n){},c31e:function(t,e,n){"use strict";n("b6d8")},e05b:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return u}));var c=n("1bab");function s(t){return Object(c["a"])({url:"/api/orders",method:"post",params:t})}function a(t,e){return Object(c["a"])({url:"/api/orders/".concat(t,"/pay"),method:"get",params:e})}function o(t){return Object(c["a"])({url:"/api/orders/".concat(t,"/status")})}function r(t){return Object(c["a"])({url:"/api/orders/".concat(t,"/confirm"),method:"patch"})}function l(){return Object(c["a"])({url:"/api/orders/preview",method:"get"})}function i(t){return Object(c["a"])({url:"/api/orders",method:"get",params:t})}function u(t){return Object(c["a"])({url:"/api/orders/".concat(t),method:"get",params:{include:"user,orderDetails.goods"}})}},ef5c:function(t,e,n){t.exports=n.p+"img/bg-order.ad7e5147.png"},f86d:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),s=n("ef5c"),a=n.n(s);Object(c["P"])("data-v-cf2cb446");var o={class:"_shopOrder d-flex justify-content-center align-items-start "},r={id:"_Order-box",class:"_Order-box card card-body px-0 py-1 py-md-2 mx-0 "},l={class:"_tab-order txt-body list-unstyled d-flex justify-content-around align-items-center pt-1 pt-md-2"},i=Object(c["n"])("span",{class:" py-2 py-sm-3 px-1 px-sm-2 text-truncate"},"全部",-1),u=[i],d=Object(c["n"])("span",{class:" py-2 py-sm-3 px-1 px-sm-2 text-truncate"},"待付款",-1),b=[d],p=Object(c["n"])("span",{class:" py-2 py-sm-3 px-1 px-sm-2 text-truncate"},"待发货",-1),f=[p],j=Object(c["n"])("span",{class:" py-2 py-sm-3 px-1 px-sm-2 text-truncate"},"待收货",-1),m=[j],O=Object(c["n"])("span",{class:" py-2 py-sm-3 px-1 px-sm-2 text-truncate"},"待评价",-1),x=[O],g=Object(c["n"])("span",{class:" py-2 py-sm-3 px-1 px-sm-2 text-truncate"},"已过期",-1),y=[g],h={class:"content py-1 py-md-3"},v={class:"_myNum txt-body px-5  "},C={class:"d-flex justify-content-end align-items-end px-3 py-1 text-muted txt-subbody"},w={class:"px-1"},k=Object(c["q"])(" 总价 "),_=Object(c["n"])("small",null,"￥",-1),q={class:"txt-subbody"},T=Object(c["n"])("small",null,".00,",-1),L={class:"px-1"},M=Object(c["q"])(" 优惠 "),D=Object(c["n"])("small",null,"￥",-1),$={key:0,class:"txt-subbody"},A={key:1,class:"txt-subbody"},I=Object(c["n"])("small",null,".00,",-1),P={class:"px-1 text-black ",style:{"font-weight":"bold"}},E=Object(c["q"])(" 实付款 "),Z=Object(c["n"])("small",null,"￥",-1),S={class:"txt-subbody"},B=Object(c["n"])("small",null,".00",-1),N={class:"d-flex justify-content-around align-items-center pb-1"},F=["onClick"],J=["onClick"],R={key:0,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"400px"}},U=Object(c["n"])("img",{src:a.a,alt:"",class:"img-responsive ",style:{"max-width":"400px"}},null,-1),G=Object(c["n"])("span",{class:"txt-subbody",style:{color:"#5D6A68"}},"您还没有相关的订单",-1),z={class:"txt-subbody py-2"},Q=Object(c["n"])("span",{class:""},"没有找到订单？试试",-1),V=Object(c["n"])("span",null,"或",-1);function H(t,e,n,s,a,i){var d=Object(c["V"])("goods-item");return Object(c["M"])(),Object(c["m"])("div",o,[Object(c["n"])("div",r,[Object(c["n"])("ul",l,[Object(c["n"])("li",{onClick:e[0]||(e[0]=function(t){return s.onChangeTab("全部",0)}),class:"active"},u),Object(c["n"])("li",{onClick:e[1]||(e[1]=function(t){return s.onChangeTab("待付款",1)})},b),Object(c["n"])("li",{onClick:e[2]||(e[2]=function(t){return s.onChangeTab("已支付",2)})},f),Object(c["n"])("li",{onClick:e[3]||(e[3]=function(t){return s.onChangeTab("发货",3)})},m),Object(c["n"])("li",{onClick:e[4]||(e[4]=function(t){return s.onChangeTab("交易完成",4)})},x),Object(c["n"])("li",{onClick:e[5]||(e[5]=function(t){return s.onChangeTab("过期",5)})},y)]),Object(c["n"])("div",h,[Object(c["r"])(d,{allList:t.allList,path:t.$route.fullPath},{numSlot:Object(c["lb"])((function(t){return[Object(c["n"])("span",v,"x"+Object(c["Z"])(t.item.num),1)]})),bottom:Object(c["lb"])((function(e){return[Object(c["n"])("div",C,[Object(c["n"])("div",w,[k,_,Object(c["n"])("span",q,Object(c["Z"])((e.item.goods.price+2)*e.item.num),1),T]),Object(c["n"])("div",L,[M,D,1===e.item.num?(Object(c["M"])(),Object(c["m"])("span",$,"2")):(Object(c["M"])(),Object(c["m"])("span",A,Object(c["Z"])(e.item.num)+"x2",1)),I]),Object(c["n"])("div",P,[E,Z,Object(c["n"])("span",S,Object(c["Z"])(e.item.goods.price*e.item.num),1),B])]),Object(c["n"])("div",N,[Object(c["n"])("span",{class:"txt-mini text-muted",onClick:function(n){return t.$router.push({path:"/orderdetail",query:{id:e.item.id}})}},"更多",8,F),Object(c["n"])("span",{class:"txt-subbody btn rounded rounded-pill px-2 py-1",onClick:function(n){return t.$router.push({path:"/orderdetail",query:{id:e.item.id}})},style:{color:"#5D6A68",border:"2px solid #BAF3EA"}},"查看详情",8,J)])]})),_:1},8,["allList","path"]),t.allList.length?Object(c["l"])("",!0):(Object(c["M"])(),Object(c["m"])("div",R,[U,G,Object(c["n"])("div",z,[Q,Object(c["n"])("span",{class:"text-danger  px-1",onClick:e[6]||(e[6]=function(t){return s.onChangeTab("全部",0)})},"查看全部"),V,Object(c["n"])("span",{class:"text-danger px-1",onClick:e[7]||(e[7]=function(e){return t.$router.push({path:"/login"})})},"切换帐号")])]))])])])}Object(c["N"])();var K=n("5530"),W=n("2909"),X=(n("99af"),n("159b"),n("1157")),Y=n.n(X),tt=n("5a79"),et=n("4995"),nt=n("e05b"),ct=n("4fe8"),st=n("6c02"),at={name:"Order",components:{GoodsItem:ct["a"]},setup:function(){var t=Object(st["d"])(),e=Object(st["c"])(),n=Object(c["R"])(null),s=Object(c["Q"])({loading:!1,finished:!1,refreshing:!1,list:[],allList:[],page:1,totalPage:0,status:0});Object(c["J"])((function(){var t=tt["a"].service({fullscreen:!1,text:"加载页面中。。。",target:".content"});void 0!==e.query.status&&e.query.status>=0&&e.query.status<=5?s.status=parseInt(e.query.status):s.status=0,Y()("._tab-order li:eq("+s.status+")").addClass("active").siblings("li").removeClass("active"),r(),null!==t&&(t.close(),t=null)}));var a=function(){var t=tt["a"].service({fullscreen:!1,text:"加载页面中。。。",target:".content"});Object(nt["d"])({page:s.page,status:s.status,include:"orderDetails.goods"}).then((function(t){s.list=s.list.concat(t.data),s.totalPage=t.meta.pagination.total_pages,s.page>=s.totalPage&&(s.finished=!0),0!==t.data.length&&t.data.forEach((function(t){var e;t.orderDetails.data&&t.orderDetails.data.length>0&&(e=s.allList).push.apply(e,Object(W["a"])(t.orderDetails.data))})),console.log("order-data",t)})).catch((function(t){console.log("order-err",t),et["a"].error("请求数据失败！")})),null!==t&&(t.close(),t=null)},o=function(){!s.refreshing&&s.page<s.totalPage&&(s.page=s.page+1),s.refreshing&&(s.list=[],s.allList=[],s.refreshing=!1),a()},r=function(){s.refreshing=!0,s.finished=!1,s.loading=!0,s.page=1,o()},l=function(t,e){Y()("._tab-order li:eq("+e+")").addClass("active").siblings("li").removeClass("active"),s.status=e,r()},i=function(e){t.push({path:"/orderdetail",query:{id:e}})};return Object(K["a"])(Object(K["a"])({},Object(c["cb"])(s)),{},{loadData:a,onRefresh:r,tabs:n,onChangeTab:l,goTo:i})}},ot=(n("4c82"),n("d959")),rt=n.n(ot);const lt=rt()(at,[["render",H],["__scopeId","data-v-cf2cb446"]]);e["default"]=lt},fada:function(t,e,n){}}]);
//# sourceMappingURL=chunk-077f7230.2c6cc9be.js.map