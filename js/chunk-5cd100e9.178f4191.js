(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cd100e9"],{"07ac":function(e,t,n){"use strict";n.r(t);var s=n("7a23"),c=n("85d4"),i=n.n(c),o=n("86c5"),a=n.n(o);Object(s["P"])("data-v-46d1b736");var d={id:"_loginBox"},l=Object(s["n"])("img",{src:i.a,alt:"",class:"_bg-login"},null,-1),r={class:"_formBox  d-flex justify-content-center  align-items-center",style:{"max-width":"540px"}},u={class:"_formBoxBoard bg-white"},b=Object(s["n"])("div",{class:"d-block px-3 py-1 d-flex align-items-center",style:{background:"#D1ECB8"}},[Object(s["n"])("i",{class:"iconfont icon-waring",style:{color:"#DE5649","font-size":"18px"}}),Object(s["n"])("span",{class:"txt-mini text-muted px-1"},"当前gobook网站只是测试版本，请不要输入您的真实个人信息。")],-1),m={style:{"min-height":"300px"}},g={class:"_tab-login d-flex justify-content-around py-3 ",style:{"border-bottom":"1px solid #F8E6E4"}},p=Object(s["n"])("span",null,"帐号登录",-1),f=[p],j=Object(s["n"])("span",null,"扫码登录",-1),x=[j],O={class:"_message-login pb-3 pt-2  d-flex flex-column justify-content-around align-items-center"},v={class:"_account-message-login  w-75 active"},y={class:"_account my-3 w-100 d-flex justify-content-between align-items-center rounded rounded-lg",style:{background:"#EEA7D0",border:"1px solid #EEA7D0"}},w=Object(s["n"])("i",{class:"iconfont icon-account px-2"},null,-1),h={class:"_password  my-3 w-100 d-flex justify-content-between align-items-center  rounded rounded-lg",style:{background:"#EEA7D0",border:"1px solid #EEA7D0"}},_=Object(s["n"])("i",{class:"iconfont icon-suo px-2"},null,-1),k={class:"_tip_message my-1 d-flex justify-content-between "},C=Object(s["n"])("span",{class:"txt-mini text-muted"},"忘记密码",-1),A={class:"_submit my-3"},E=Object(s["n"])("div",{class:"_scan-message-login w-75 "},[Object(s["n"])("div",{class:"   my-3 w-100 d-flex justify-content-center align-items-center"},[Object(s["n"])("img",{src:a.a,alt:"",style:{"max-width":"150px",opacity:"0.5"}})]),Object(s["n"])("div",{class:"txt-subbody  my-3 w-100 d-flex flex-column justify-content-center align-items-center"},[Object(s["n"])("span",{class:"text-danger pb-2"},"(当前暂未开放扫码登录)"),Object(s["n"])("span",null,"打开GoBook微信小程序 扫描二维码")]),Object(s["n"])("div",{class:"_password  my-3 w-100 d-flex justify-content-center align-items-center"},[Object(s["n"])("div",{class:"d-inline text-truncate d-flex align-items-center"},[Object(s["n"])("i",{class:"iconfont icon-shuru1",style:{"font-size":"22px",color:"pink"}}),Object(s["n"])("span",{class:"txt-subbody text-muted px-1"},"免输入")]),Object(s["n"])("div",{class:"d-inline text-truncate d-flex align-items-center px-3"},[Object(s["n"])("i",{class:"iconfont icon-gengkuai_huaban",style:{"font-size":"22px",color:"pink"}}),Object(s["n"])("span",{class:"txt-subbody text-muted px-1"},"更快")]),Object(s["n"])("div",{class:"d-inline text-truncate d-flex align-items-center"},[Object(s["n"])("i",{class:"iconfont icon-genganquan",style:{"font-size":"22px",color:"pink"}}),Object(s["n"])("span",{class:"txt-subbody text-muted px-1"},"更安全")])])],-1);function U(e,t,n,c,i,o){return Object(s["M"])(),Object(s["m"])("div",d,[l,Object(s["n"])("div",r,[Object(s["n"])("div",u,[b,Object(s["n"])("div",m,[Object(s["n"])("div",g,[Object(s["n"])("div",{class:"_account-Login txt-body d-inline active",onClick:t[0]||(t[0]=function(e){return c.onChangeTab(0)})},f),Object(s["n"])("div",{class:"_scan-Login txt-body d-inline  ",onClick:t[1]||(t[1]=function(e){return c.onChangeTab(1)})},x)]),Object(s["n"])("div",O,[Object(s["n"])("div",v,[Object(s["n"])("div",y,[w,Object(s["mb"])(Object(s["n"])("input",{type:"text",name:"userAccount",id:"userAccount",style:{width:"88%","font-size":"18px","text-indent":"5px"},class:"py-1 justify-content-end",placeholder:"邮箱","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.email=t}),title:"帐号不能为空",required:""},null,512),[[s["hb"],e.email]])]),Object(s["n"])("div",h,[_,Object(s["mb"])(Object(s["n"])("input",{type:"password",name:"userPassword",id:"userPassword",style:{width:"88%","font-size":"18px","text-indent":"5px"},class:"py-1 justify-content-end ",placeholder:"密码","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.password=t}),title:"请输入密码",required:""},null,512),[[s["hb"],e.password]])]),Object(s["n"])("div",k,[Object(s["n"])("span",{class:"_goto-register txt-subbody ",onClick:t[4]||(t[4]=function(t){return e.$router.push({path:"/register"})})},"没有帐号，立即注册"),C]),Object(s["n"])("div",A,[Object(s["n"])("input",{type:"submit",onClick:t[5]||(t[5]=function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),class:"userSubmit btn text-white rounded rounded-lg w-100",style:{background:"#E83525"},value:"登录"})])]),E])])])])])}Object(s["N"])();var q=n("5530"),z=(n("159b"),n("b0c0"),n("1157")),D=n.n(z),B=n("8d85"),I=n("b3d1"),S=(n("b050"),n("6c02")),L=n("5502"),P={name:"Login",setup:function(){var e=Object(S["d"])(),t=Object(L["b"])(),n=Object(s["Q"])({email:"",password:""});D()(window).resize((function(){D()(window).width()>760&&D()(window).width()<780&&(D()("._tab-login >div:eq(0)").addClass("active").siblings("div").removeClass("active"),D()("._message-login>div:eq(0)").addClass("active").siblings("div").removeClass("active"))}));var c=function(e){D()("._tab-login >div:eq("+e+")").addClass("active").siblings("div").removeClass("active"),D()("._message-login>div:eq("+e+")").addClass("active").siblings("div").removeClass("active")},i=function(){Object(B["a"])(n).then((function(s){window.localStorage.setItem("token",s.access_token),t.commit("setIsLogin",!0),console.log("登录成功！"),n.password="",n.password_confirmation="",o(),a(),d(),setTimeout((function(){e.go(-1)}),500)}))},o=function(){0===t.getters.getShopCount.length?t.dispatch("updateCart"):console.log("当前已经有商品数量")},a=function(){0===t.getters.getAddressId?Object(I["e"])().then((function(e){0!==e.data.length?e.data.forEach((function(e){e.is_default&&(t.commit("setAddressId",e.id),t.commit("setAddressUserName",e.name),t.commit("setAddressUserPhone",e.phone),t.commit("setAddressUserProvince",e.province),t.commit("setAddressUserCity",e.city),t.commit("setAddressUserCounty",e.county),t.commit("setAddressUserDetail",e.address))})):console.log("暂时无法获取地址数据")})).catch((function(e){console.log("getAddressList-err",e)})):console.log("当前存在默认地址数据",t.getters.getAddressId)},d=function(){0===t.getters.getUserNickname.length?Object(B["d"])().then((function(e){e.id&&(t.commit("setUserNickname",e.name),t.commit("setUserFace",e.avatar_url),t.commit("setUserEmail",e.email))})).catch((function(e){console.log("获取用户信息失败login-err",e)})):console.log("当前已经有默认地址")};return Object(q["a"])(Object(q["a"])({},Object(s["cb"])(n)),{},{onSubmit:i,onChangeTab:c})}},N=(n("d7da"),n("d959")),T=n.n(N);const F=T()(P,[["render",U],["__scopeId","data-v-46d1b736"]]);t["default"]=F},"85d4":function(e,t,n){e.exports=n.p+"img/bg-login.2f94f8d1.png"},"86c5":function(e,t,n){e.exports=n.p+"img/loginCode.bb22d0a9.png"},d7da:function(e,t,n){"use strict";n("ddc9")},ddc9:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5cd100e9.178f4191.js.map