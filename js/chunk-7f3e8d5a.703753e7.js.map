{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./src/views/detail/Detail.vue","webpack:///./src/network/detail.js","webpack:///./src/views/detail/Detail.vue?fae2","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/detail/Detail.vue?3444"],"names":["fixRegExpWellKnownSymbolLogic","isRegExp","anObject","requireObjectCoercible","speciesConstructor","advanceStringIndex","toLength","toString","callRegExpExec","regexpExec","stickyHelpers","fails","UNSUPPORTED_Y","arrayPush","push","min","Math","MAX_UINT32","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","re","originalExec","exec","apply","this","arguments","result","split","length","SPLIT","nativeSplit","maybeCallNative","internalSplit","separator","limit","string","lim","undefined","call","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","RegExp","source","slice","index","test","O","splitter","rx","S","res","done","value","C","unicodeMatching","p","q","A","e","z","i","class","id","style","src","alt","appearError","separator-class","to","lastPage","$router","lastPagePath","lastPageQuery","initBooks","detail","cover_url","error","title","price","stock","collectBook","collection","isCollect","handleAddCart","goToCart","activeTitle","changeActive","like_goods","bookDetails","showComments","comments","item","key","user","avatar_url","name","rate","disabled","show-score","text-color","content","icon","hintSign","hintSignName","subTitle","extra","type","size","cancelOverflow","getDetail","request","url","components","setup","route","router","store","state","collect","book","description","hintNum","hintArr","hintArrName","pre_bookDetails","query","console","log","loadingInstance_init","service","fullscreen","text","target","then","goods","details","window","localStorage","getItem","objPre","tt","obj","Object","forEach","t","initCollect","catch","err","close","scroll","bodyT","document","scrollTop","css","concat","data","onCollectGoodsId","keys","item_collect","j","goods_id","num","status","setTimeout","dispatch","warning","path","success","__exports__","render","$","isArray","isObject","toObject","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","spreadable","FORCED","proto","forced","arg","k","len","E","n","TypeError"],"mappings":"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","file":"js/chunk-7f3e8d5a.703753e7.js","sourcesContent":["'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar fails = require('../internals/fails');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-empty-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = toString(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(toString(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (string, limit) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(internalSplit, rx, S, limit, internalSplit !== nativeSplit);\n\n      if (res.done) return res.value;\n\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = callRegExpExec(splitter, UNSUPPORTED_Y ? S.slice(q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);\n","<template>\r\n    <!--商品详情页内容-->\r\n    <div v-if=\"!appearError\">\r\n        <div class=\"_detail container-fluid mb-3\">\r\n            <div class=\"row d-flex justify-content-around \">\r\n                <!--面包屑导航栏 -->\r\n                <div class=\"pl-2 pb-2 pl-md-3 pl-lg-4 d-flex align-items-center \">\r\n                    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n                        <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n                        <el-breadcrumb-item v-if=\"lastPage.length>0\"  @click=\"$router.push({ path: lastPagePath ,query:lastPageQuery|| {}})\">{{lastPage}}</el-breadcrumb-item>\r\n                        <el-breadcrumb-item  >商品详情</el-breadcrumb-item>\r\n                    </el-breadcrumb>\r\n                </div>\r\n                <!--商品图片栏-->\r\n                <div class=\"col-12 col-sm-6 col-md-5 col-lg-4 card card-body\r\n                        d-flex justify-content-center align-items-center \" id=\"_loadImg\">\r\n                    <img v-if=\"initBooks\" :src=\"detail.cover_url\" alt=\"\"\r\n                         class=\"img-fluid img-thumbnail\" style=\"width:300px;\">\r\n                    <div v-else>\r\n                        <el-image>\r\n                            <template #error>\r\n                                <div class=\"image-slot d-flex flex-column justify-content-center\" >\r\n                                    <i class=\"el-icon-picture-outline\"></i>\r\n                                    <span class=\"loadFail\">加载失败</span>\r\n                                </div>\r\n                            </template>\r\n                        </el-image>\r\n                    </div>\r\n                </div>\r\n                <!--商品价格栏-->\r\n                <div class=\"col-12 col-sm-6 col-md-7 col-lg-8 card card-body  \">\r\n                    <div class=\"d-flex flex-column justify-content-between \">\r\n                        <div class=\"txt-subtitle  py-2 align-self-start d-flex flex-row justify-content-start\" style=\"font-weight:bold\">\r\n                            <span class=\"d-inline  \" style=\"text-align:left;\">{{detail.title+'&nbsp;'+detail.description}}</span>\r\n                        </div>\r\n                        <div class=\"py-1 py-sm-2  align-self-start \">\r\n                            券后价：\r\n                            <span class=\"txt-subtitle\" style=\"color:red\">￥ {{detail.price}}.00</span>\r\n                            <span class=\"txt-mini text-muted px-2\">\r\n                                原价\r\n                                <s>{{detail.price-2}}.00</s>\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"py-1 py-sm-2  align-self-start\">\r\n                            优惠券：\r\n                            <span class=\"txt-subbody bg-danger border border-danger text-white py-0 px-1 \">2元券</span>\r\n                            <span class=\"txt-subbody border border-danger text-danger  py-0 px-1 mx-1\">剩900张</span>\r\n                        </div>\r\n                        <div class=\"py-1 py-sm-2  align-self-start\">\r\n                            款式：\r\n                            <span class=\"txt-subbody border border-danger text-danger  p-2\">标准款式</span>\r\n                        </div>\r\n                        <div class=\"py-1 py-sm-2  align-self-start\">\r\n                            库存：\r\n                            <span class=\"txt-subbody \">{{detail.stock}}件</span>\r\n                        </div>\r\n                        <div class=\"pt-3 align-self-end\">\r\n                            <div class=\"d-flex justify-content-end align-items-center\"  style=\"font-size:1.5rem\">\r\n                                <div class=\" d-flex justify-content-center align-items-center  text-muted\" @click=\"collectBook(collection[0].id)\">\r\n                                    <div class=\"txt-subbody mt-2\">收藏：</div>\r\n                                    <div class=\" \">\r\n                                        <img src=\"~assets/images/collection-fill.png\" v-if=\"collection[0].isCollect\" style=\"max-width:26px;\" alt=\"\">\r\n                                        <img src=\"~assets/images/collection.png\" v-else style=\"max-width:26px;\" alt=\"\">\r\n                                    </div>\r\n                                </div>\r\n                                <button class=\" btn border border-danger  text-white mx-2\"\r\n                                        style=\"background:#FF976A;font-size:0.8rem;\" @click=\"handleAddCart\">加入购物车\r\n                                </button>\r\n                                <button class=\" btn border border-danger  bg-danger text-white mx-2\" style=\"font-size:0.8rem\"\r\n                                        @click=\"goToCart\">\r\n                                    &nbsp;立即购买&nbsp;\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!--书店详情栏-->\r\n                <div class=\"col-12 col-sm-3 col-md-3 pt-3 px-0\">\r\n                    <div class=\"d-none d-sm-block\">\r\n                        <ul class=\"txt-subbody list-group\">\r\n                            <li class=\"list-group-item \" style=\"background:#f4f4f4;font-weight:bold\">书小狸图书用品店</li>\r\n                            <li class=\"list-group-item border-top-0 border-bottom-0 \">描述相符：高</li>\r\n                            <li class=\"list-group-item border-top-0 border-bottom-0\">描述相符：高</li>\r\n                            <li class=\"list-group-item border-top-0 \">描述相符：高</li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"d-block d-sm-none\">\r\n                        <ul class=\"txt-subbody list-unstyled \">\r\n                            <li class=\"py-1\" style=\"background:#f4f4f4;font-weight:bold\">书小狸图书用品店</li>\r\n                            <li class=\"d-flex pt-1 justify-content-start \">\r\n                                <span class=\"px-3\">描述相符：高</span>\r\n                                <span class=\"px-3\">描述相符：高</span>\r\n                                <span class=\"px-3\">描述相符：高</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <!--商品详情栏-->\r\n                <div class=\"col-12 col-sm-9 col-md-9  px-0 pt-3\">\r\n                    <div class=\" card card-body px-0 pt-0\">\r\n                        <ul class=\"_list_title txt-body list-unstyled d-flex justify-content-start\">\r\n                            <li class=\"d-inline-block mx-5 py-1 px-3\" :class=\"{active:activeTitle}\"\r\n                                @click=\"changeActive\">商品详情\r\n                            </li>\r\n                            <li class=\"d-inline-block py-1 px-3\" :class=\"{active:!activeTitle}\" @click=\"changeActive\">\r\n                                用户评价\r\n                            </li>\r\n                        </ul>\r\n                        <ul class=\"_list_body txt-subbody list-unstyled\">\r\n                            <li class=\"\" :class=\"{active:activeTitle}\">\r\n                                <div id=\"_parse_html\" v-if=\"like_goods.length\" v-html=\"bookDetails\"></div>\r\n                                <div v-else>\r\n                                    暂无商品详情数据\r\n                                </div>\r\n                                <img :src=\"detail.cover_url\" alt=\"\"\r\n                                     class=\"img-fluid img-thumbnail\" style=\"width:300px;\">\r\n                            </li>\r\n                            <li class=\"\" :class=\"{active:!activeTitle}\">\r\n                                <div v-if=\"showComments.length\" class=\"\">\r\n                                    <div v-for=\"item in detail.comments\" :key=\"item.id\" class=\"mt-2 px-4 py-2  d-flex flex-column justify-content-between align-items-start\"\r\n                                          style=\"border-bottom:5px solid pink;\" >\r\n                                        <div class=\"pt-1 pb-0 d-flex justify-content-start align-items-center\">\r\n                                            <div class=\"d-flex justify-content-center align-items-center border border-success rounded rounded-circle\"\r\n                                                 style=\"width:60px;height:60px;background:#f5f2f0;overflow:hidden;\">\r\n                                                <img :src=\"item.user.avatar_url\"\r\n                                                     alt=\"\" class=\"img-fluid  \" style=\"width:56px;height:auto;\">\r\n                                            </div>\r\n                                            <span class=\"txt-body px-2 \" style=\"font-weight:bold; color:#1f1f1f;\">{{item.user.name}}</span>\r\n                                        </div>\r\n                                        <div class=\"pt-1 pb-2 px-3\">\r\n                                            <div class=\"txt-mini text-muted \" style=\"float:left;\">\r\n                                                <span>款式：标准款式</span>\r\n                                            </div>\r\n                                            <div  class=\"px-3 txt-mini text-muted d-flex justify-content-start\">\r\n                                                评分：\r\n                                                <el-rate\r\n                                                        v-model=\"item.rate\"\r\n                                                        disabled\r\n                                                        show-score\r\n                                                        text-color=\"#ff9900\"\r\n                                                        style=\"  line-height:0.5\"\r\n                                                >\r\n                                                </el-rate>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"py-1 px-1\">\r\n                                            <span class=\"txt-subbody\">{{item.content}}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div v-else>\r\n                                    暂无评论\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div v-else>\r\n        <img src=\"~assets/images/404error.png\" alt=\"\">\r\n    </div>\r\n    <!--操作提示信息栏-->\r\n    <div id=\"_result\">\r\n        <el-result :icon=\"hintSign\" :title=\"hintSignName\" subTitle=\"请根据提示进行操作\">\r\n            <template #extra>\r\n                <el-button type=\"primary\" size=\"medium\" @click=\"cancelOverflow\">返回</el-button>\r\n            </template>\r\n        </el-result>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import $ from 'jquery';\r\n    import {ElLoading, ElMessage} from 'element-plus';\r\n    import {addCart} from \"network/cart\";\r\n    import {getDetail} from \"network/detail\";\r\n    import {getCollectList, changeCollection} from 'network/collect';\r\n\r\n    import {useStore} from 'vuex';\r\n    import {useRoute, useRouter } from 'vue-router';\r\n    import {onMounted, ref, reactive, computed, toRefs} from 'vue';\r\n\r\n    export default {\r\n        name: \"Detail\",\r\n        components: {},\r\n        setup() {\r\n            // 获取路由\r\n            const route = useRoute();\r\n            const router = useRouter();\r\n            const store = useStore();\r\n\r\n            // 初始化数据\r\n            const appearError = ref(false);   // 检测数据是否为空\r\n            const initBooks = ref(true);\r\n\r\n            // 数据模型\r\n            const state = reactive({\r\n                collect:[],                     // 收藏商品数据\r\n\r\n                collection:[\r\n                    {id:0,isCollect:false}\r\n                 ],                               // 商品id， 是否收藏，以这个为标准  true,false\r\n            });\r\n\r\n            const id = ref(0);                   // 当前的商品id\r\n            let activeTitle = ref(true);         // 分类标题栏\r\n            let book = reactive({                // 书籍商品数据\r\n                detail: {title:'',description:'',price:0},\r\n                like_goods: [],\r\n            });\r\n            let hintNum = ref(0);                      // 提示信息\r\n            let hintArr = ref(['error', 'success']);   // 操作信息\r\n            let hintArrName = ref(['操作失败', '操作成功']);\r\n\r\n            // 书籍详情\r\n            let bookDetails = ref('');\r\n            let pre_bookDetails = ref('');\r\n\r\n            let showComments = ref([]);              // 评论数据\r\n            let lastPage = ref('');                  // 上一个跳转页面的数据\r\n            let lastPagePath = ref('');\r\n            let lastPageQuery = ref({});\r\n\r\n            // router是跳转页面，发送数据。route是接收数据\r\n            id.value = route.query.id;\r\n            onMounted(() => {\r\n                console.log('当前的id是', id.value);\r\n\r\n                let loadingInstance_init = ElLoading.service({  fullscreen: false,   text: '图片加载中', target: '#_loadImg' });\r\n\r\n                getDetail(id.value).then(res => {\r\n                    book.detail = res.goods;\r\n                    book.like_goods = res.like_goods;\r\n                    console.log(\"detail-data\",res);\r\n\r\n                    if(!book.detail.cover_url || book.detail.cover_url.length === 0){\r\n                        initBooks.value = false;\r\n                        book.detail.title = '网络出错啦！请重试';\r\n                    }\r\n                    // 预处理的商品详情数据\r\n                    pre_bookDetails.value = book.detail.details;\r\n                    showComments.value = book.detail.comments;\r\n\r\n                    // 排除错误数据，\r\n                    // 注意：只有可访问的图片才会被替换，而不是随机写的数据。所以，这只是浏览器处理的方式。\r\n                    /*if (pre_bookDetails.value.length > 0) {\r\n                        var pattern_png = /\\\"\\S*.png\\S*\\\"/g;\r\n                        var pattern_jpg = /\\\"\\S*.jp\\e?g\\S*\\\"/g;\r\n                        var arr_png = book.detail.details.match(pattern_png);\r\n                        var arr_jpg = book.detail.details.match(pattern_jpg);\r\n                        // 处理png图片数据\r\n                        if (arr_png !== null) {\r\n                            arr_png.forEach((item_img) => {\r\n                                if (item_img.length > 0) {\r\n                                    var img_res = checkImgExists(item_img);\r\n                                    if (!img_res) {\r\n                                        var pattern_png_s = new RegExp('<img' + '\\.*' + item_img + '\\.*' + '\\/?>', 'gi');\r\n                                        pre_bookDetails.value = pre_bookDetails.value.replace(pattern_png_s, '');\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                        // 处理jpg图片数据\r\n                        if (arr_jpg !== null) {                // 数组为空，则不能使用内置函数\r\n                            arr_jpg.forEach((item_img) => {\r\n                                if (item_img.length > 0) {\r\n                                    var img_res = checkImgExists(item_img);\r\n                                    if (!img_res) {\r\n                                        var pattern_jpg_s = new RegExp('<img' + '\\.*' + item_img + '\\.*' + '\\/?>', 'gi');\r\n                                        pre_bookDetails.value = pre_bookDetails.value.replace(pattern_jpg_s, '');\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }*/\r\n\r\n                    // 获取处理后的数据\r\n                    bookDetails.value = pre_bookDetails.value;\r\n\r\n                    if(window.localStorage.getItem('lastPage').length > 0){\r\n                        lastPage.value = window.localStorage.getItem('lastPage');\r\n                        lastPagePath.value = window.localStorage.getItem('lastPagePath');\r\n                        var objPre = window.localStorage.getItem('lastPageQuery');\r\n                        if(objPre.length > 0){\r\n                            var tt = objPre.split('?');\r\n                            objPre = tt[tt.length - 1];\r\n                            var obj = new Object();\r\n                            objPre.split('&').forEach((item)=>{\r\n                                var t = item.split('=');\r\n                                obj[t[0]] = t[t.length - 1];\r\n                            });\r\n                            lastPageQuery.value = obj;\r\n                        }\r\n\r\n                    }\r\n                    initCollect();                     // 初始化收藏数据\r\n                }).catch(err=>{\r\n                    console.log('detail-err',err);\r\n                    ElMessage.error(\"获取商品数据失败\");\r\n                });\r\n                if(loadingInstance_init!==null){\r\n                    loadingInstance_init.close();                // 页面加载中...\r\n                    loadingInstance_init = null;\r\n                }\r\n            });\r\n\r\n            // 监听鼠标的滚动,  保证遮罩层在绝对中心的位置\r\n            $(window).scroll(function () {\r\n                var bodyT = $(document).scrollTop();\r\n                $('#_result').css('top', bodyT);\r\n            });\r\n\r\n             // 初始化收藏数据\r\n            const initCollect = ()=>{\r\n                getCollectList(0).then(res=>{\r\n                    console.log('detail-collection-data',res);        // 这里没有状态码返回\r\n                    state.collect = state.collect.concat(res.data);\r\n                    onCollectGoodsId();\r\n                }).catch(err=>{\r\n                    console.log('detail-collection-err',err);\r\n                    ElMessage.error('获取收藏数据错误')\r\n                });\r\n            };\r\n\r\n\r\n            // 对商品检测是否收藏\r\n            const onCollectGoodsId = ()=>{\r\n                if (Object.keys(book.detail).length>0) {\r\n                    state.collect.forEach((item_collect, j) => {      // 商品id是number型，而input获取的数据是string类型\r\n                        state.collection[0].id = book.detail.id;\r\n                        state.collection[0].isCollect = false;\r\n                        if (book.detail.id== item_collect.goods.id) {        // 不再使用真实的数据，否则会出现数据延迟的现象\r\n                            state.collection[0].isCollect = true;\r\n                        }\r\n                    })\r\n                } else {\r\n                    console.log('当前商品数据为空')\r\n                }\r\n            };\r\n\r\n\r\n            //判断图片是否存在\r\n            const checkImgExists = (imgUrl) => {\r\n                var ImgObj = new Image(); //判断图片是否存在\r\n                ImgObj.src = imgUrl;\r\n                if (ImgObj.fileSize > 0 || (ImgObj.width > 0 && ImgObj.height > 0)) {  //只要图片有大小或宽高，则表示存在图片\r\n                    return true;\r\n                } else {\r\n                    //console.log(imgUrl, '图片地址无效');\r\n                    return false;\r\n                }\r\n            };\r\n\r\n            // 切换商品信息栏\r\n            const changeActive = () => {\r\n                activeTitle.value = !activeTitle.value;\r\n            };\r\n\r\n            // 添加进购物车\r\n            const handleAddCart = () => {\r\n                hintNum.value = 1;\r\n                addCart({goods_id:book.detail.id,num:1}).then(res=>{\r\n                     if (res.status === 201 || res.status === 204){   // 返回的状态码是字符串\r\n                         $('#_result').css('display','flex');\r\n                         $('body').css('overflow','hidden');         // 禁用滚动条\r\n                         setTimeout(()=>{\r\n                             $('#_result').css('display','none');\r\n                             $('body').css('overflow','');       // 再次开启滚动条\r\n                             store.dispatch('updateCart');                   // 分发数据，更新cartCount的值\r\n                         },1000);\r\n                     }\r\n                }).catch(err=>{\r\n                    console.log('detail-addcart-err',err);\r\n                    hintNum.value = 0;\r\n                    $('#_result').css('display','flex');\r\n                    $('body').css('overflow','hidden');         // 禁用滚动条\r\n                    setTimeout(()=>{\r\n                        $('#_result').css('display','none');\r\n                        $('body').css('overflow','');       // 再次开启滚动条\r\n                    },1000);\r\n                });\r\n            };\r\n\r\n            // 跳转购物车页面\r\n            const goToCart = () => {\r\n                hintNum.value = 1;\r\n                addCart({goods_id:book.detail.id,num:1}).then(res=>{\r\n                    if(res.status===201 || res.status === 204){               // 状态码是number类型\r\n                        ElMessage.warning('即将跳转购物车页面');\r\n                        setTimeout(() => {\r\n                            router.push({path:'/shopcart'});\r\n                        },500);\r\n                    }\r\n                }).catch(err=>{\r\n                    hintNum.value = 0;\r\n                    $('#_result').css('display','flex');\r\n                    $('body').css('overflow','hidden');         // 禁用滚动条\r\n                    setTimeout(()=>{\r\n                        $('#_result').css('display','none');\r\n                        $('body').css('overflow','');       // 再次开启滚动条\r\n                    },1000);\r\n                });\r\n            };\r\n\r\n            // 关闭提示信息\r\n            const cancelOverflow = () => {\r\n                $('#_result').css('display', 'none');\r\n                $('body').css('overflow', '');         // 禁用滚动条\r\n            };\r\n\r\n            // 提示信息的标志词( error, success)\r\n            const hintSign = computed(() => {\r\n                return hintArr.value[hintNum.value];\r\n            });\r\n            const hintSignName = computed(() => {\r\n                return hintArrName.value[hintNum.value];\r\n            });\r\n\r\n\r\n            // 单独商品进行收藏\r\n            const collectBook = (id) => {\r\n                changeCollection(id).then(res=>{\r\n                    if(res.status === 201){\r\n                        ElMessage.success('已经收藏商品');\r\n                        state.collection.forEach((item,index)=>{\r\n                            if(item.id===id){\r\n                               // console.log('当前已经进行过修改，收藏',id);\r\n                                item.isCollect = true;\r\n                            }\r\n                        });\r\n                    }else if(res.status === 204){\r\n                        ElMessage.success('已经取消收藏');\r\n                        state.collection.forEach((item,index)=>{\r\n                            if(item.id===id){\r\n                                //console.log('当前已经进行过修改，取消收藏',id);\r\n                                item.isCollect = false;\r\n                            }\r\n                        });\r\n                    } else{\r\n                        ElMessage.warning('注意：收藏商品需要登录');\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log('detail-goodListItem-err',err);\r\n                    ElMessage.error('收藏错误！请重试')\r\n                });\r\n            };\r\n\r\n\r\n            return {\r\n                ...toRefs(book), appearError, activeTitle, changeActive,...toRefs(state),\r\n                handleAddCart, goToCart, cancelOverflow, hintSign, hintSignName,\r\n                bookDetails,showComments, initBooks, lastPage, lastPagePath, lastPageQuery,\r\n                collectBook\r\n            }\r\n        },\r\n        /*beforeRouteEnter(to, from, next) {\r\n            next(vm=>{          //  这里的vm指的就是vue实例，可以用来当做this使用\r\n               // this.lastPath = from.fullpath;\r\n                console.log(\"0000\",from.fullPath)\r\n            })\r\n        }*/\r\n    }\r\n\r\n</script>\r\n\r\n<style>\r\n    .el-breadcrumb__item:last-child .el-breadcrumb__inner, .el-breadcrumb__item:last-child .el-breadcrumb__inner a, .el-breadcrumb__item:last-child .el-breadcrumb__inner a:hover, .el-breadcrumb__item:last-child .el-breadcrumb__inner:hover {\r\n        font-weight: 400;\r\n        color: red !important;\r\n        cursor: text;\r\n    }\r\n    ._list_title {\r\n        background: #f4f4f4;\r\n    }\r\n\r\n    ._list_title li {\r\n        border-top: 5px solid #f4f4f4;\r\n        color: black;\r\n    }\r\n\r\n    ._list_title li.active {\r\n        border-top: 5px solid red;\r\n        color: red;\r\n        background: #ffffff;\r\n    }\r\n\r\n    ._list_body li {\r\n        display: none;\r\n    }\r\n\r\n    ._list_body li.active {\r\n        display: block;\r\n    }\r\n\r\n    .el-result__title {\r\n        font-weight: bold;\r\n    }\r\n\r\n    .el-result__subtitle {\r\n        color: black;\r\n    }\r\n    .el-icon-picture-outline{\r\n        font-size:100px;\r\n        color:#b8b8b8;\r\n    }\r\n    .loadFail{\r\n        color:#42bBaa;\r\n    }\r\n\r\n    /*提示信息*/\r\n    #_result {\r\n        position: absolute;\r\n        z-index: 99;\r\n        background: rgba(255, 255, 255, 0.8);\r\n        top: 0;\r\n        width: 100vw !important;\r\n        height: 100vh !important;\r\n        display: none;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    #_parse_html img {\r\n        width: 300px !important;\r\n    }\r\n</style>","import {request} from './request.js';\r\n\r\nexport function getDetail(id){\r\n    return request({\r\n        url:\"/api/goods/\"+id,\r\n    })\r\n}\r\n\r\n","import { render } from \"./Detail.vue?vue&type=template&id=264ec212\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport \"./Detail.vue?vue&type=style&index=0&id=264ec212&lang=css\"\n\nimport exportComponent from \"C:\\\\wamp64\\\\www\\\\giteeWarehouse\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Detail.vue?vue&type=style&index=0&id=264ec212&lang=css\""],"sourceRoot":""}