{"version":3,"sources":["webpack:///./src/views/profile/Profile.vue?5978","webpack:///./src/views/profile/Profile.vue","webpack:///./src/views/profile/Profile.vue?032c"],"names":["class","id","style","init_profile","src","user","avatar_url","alt","name","email","goTo","toLogout","setup","router","store","state","loadingInstance","service","fullscreen","text","target","getters","getUserNickname","length","console","log","then","res","value","commit","catch","err","error","getUserFace","getUserEmail","close","path","query","push","status","success","window","localStorage","setItem","__exports__","render"],"mappings":"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","file":"js/chunk-72ef50ba.1a34141d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Profile.vue?vue&type=style&index=0&id=b88200b6&scoped=true&lang=scss\"","<template>\r\n    <div class=\"_profile d-flex justify-content-center align-items-start \">\r\n        <!--{{$store.state.cartCount}}-->\r\n\r\n        <div id=\"_profile-box\" class=\"_profile-box card card-body px-0 mx-0 \">\r\n            <div class=\"d-flex justify-content-start px-4 pb-2 pb-sm-3\" style=\"min-height:60px;\">\r\n                <div class=\"max-width:82px; d-flex justify-content-center align-items-center \"\r\n                     style=\"border:2px solid red;border-radius:50%;overflow:hidden;min-width:70px;\"\r\n                     v-if=\"init_profile === 1\">\r\n                    <img :src=\"user.avatar_url\" alt=\"\" style=\"max-width:80px;\">\r\n                </div>\r\n                <div class=\"d-flex flex-column  align-items-start px-3\" v-if=\"init_profile===1\">\r\n                    <div class=\"txt-body\" style=\"font-weight:bold\">昵称：{{user.name}}</div>\r\n                    <div class=\"txt-subbody  pt-1\">登录邮箱：{{user.email}}</div>\r\n                    <div class=\"txt-subbody text-muted pt-1\">个性签名：当前没有书写个性签名</div>\r\n                </div>\r\n                <div class=\"d-flex flex-column justify-content-center align-items-start px-3\"\r\n                     v-else-if=\"init_profile===0\">\r\n                    <div class=\"txt-subtitle text-success \" style=\"text-shadow:1px 1px 2px pink;font-weight:bold\">\r\n                        正在获取用户数据。。。\r\n                    </div>\r\n                </div>\r\n                <div class=\"d-flex flex-column justify-content-center align-items-start px-3\" v-else>\r\n                    <div class=\"txt-subtitle text-info\" style=\"text-shadow:1px 1px 2px pink; font-weight:bold\">\r\n                        获取用户数据失败，请刷新重试\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"_shopCart _shopItemBox bg-white pt-1\">\r\n                <div class=\"_shopItem  row \">\r\n                    <div class=\"col-12 d-flex justify-content-between align-items-center  py-3\">\r\n                        <div class=\"txt-subbody txt-body-space  px-2 px-sm-3 px-md-4\" style=\"font-weight:bold\">我的订单\r\n                        </div>\r\n                        <div class=\"txt-mini text-muted d-flex justify-content-center align-items-center  px-3 px-sm-4 px-md-5\"\r\n                             @click=\"goTo('/order',{status:0})\">\r\n                            <span>查看全部</span>\r\n                            <i class=\"iconfont icon-right  \"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"_shopRow col-12   d-flex justify-content-around txt-subbody pb-2 pb-md-3\">\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/order',{status:1})\">\r\n                                <i class=\"iconfont icon-daifukuan d-block\"></i>\r\n                                <span class=\"w-100\">待付款</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/order',{status:5})\">\r\n                                <i class=\"iconfont icon-daifenxiang1 d-block\"></i>\r\n                                <span class=\"w-100\">待分享</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/order',{status:2})\">\r\n                                <i class=\"iconfont icon-daifahuo d-block\"></i>\r\n                                <span class=\"w-100\">待发货</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/order',{status:3})\">\r\n                                <i class=\"iconfont icon-daishouhuo d-block\"></i>\r\n                                <span class=\"w-100\">待收货</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/order',{status:4})\">\r\n                                <i class=\"iconfont icon-pingjia_ d-block\"></i>\r\n                                <span class=\"w-100\">评价</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"_shopDiscount _shopItemBox bg-white mt-1 py-3\">\r\n                <div class=\"_shopItem  row \">\r\n                    <div class=\"_shopRow col-12   d-flex justify-content-around txt-subbody  \">\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/findcoupons')\">\r\n                                <i class=\"iconfont icon-youhuijuan d-block\"></i>\r\n                                <span class=\"w-100\">优惠券</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/collection')\">\r\n                                <i class=\"iconfont icon-shangpinshoucang d-block\"></i>\r\n                                <span class=\"w-100\">商品收藏</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/focusshop')\">\r\n                                <i class=\"iconfont icon-dianpuguanzhu d-block\"></i>\r\n                                <span class=\"w-100\">店铺关注</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/viewhistory')\">\r\n                                <i class=\"iconfont icon-lishiliulan d-block\"></i>\r\n                                <span class=\"w-100\">浏览历史</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/aftersale')\">\r\n                                <i class=\"iconfont icon-shouhou11 d-block\"></i>\r\n                                <span class=\"w-100\">退款售后</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"_shopSettings _shopItemBox bg-white mt-1 \">\r\n                <div class=\"_shopItem  row \">\r\n                    <div class=\"_shopRow col-12   d-flex justify-content-around txt-subbody py-3\">\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/settings',{'items':0})\">\r\n                                <i class=\"iconfont icon-bangdingshouji d-block\"></i>\r\n                                <span class=\"w-100\">绑定手机</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/settings',{'items':1})\">\r\n                                <i class=\"iconfont icon-xiugaimima d-block\"></i>\r\n                                <span class=\"w-100\">修改密码</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/settings',{'items':2})\">\r\n                                <i class=\"iconfont icon-youxiang d-block\"></i>\r\n                                <span class=\"w-100\">更换邮箱</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/settings',{'items':3})\">\r\n                                <i class=\"iconfont icon-zhaohuimima1 d-block\"></i>\r\n                                <span class=\"w-100\">找回密码</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\" @click=\"toLogout\">\r\n                            <div class=\" d-line-block  mx-auto\">\r\n                                <i class=\"iconfont icon-tuichudenglu d-block\"></i>\r\n                                <span class=\"w-100\">退出登录</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"_shopRow col-12   d-flex justify-content-start txt-subbody pb-3 \">\r\n                        <div class=\"mycol  d-line-block\" style=\"width:20%;\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/consultservice')\">\r\n                                <i class=\"iconfont icon-lianhe11 d-block\"></i>\r\n                                <span class=\"w-100\">官方客服</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\" style=\"width:20%;\">\r\n                            <div class=\" d-line-block mx-auto\" @click=\"goTo('/address')\">\r\n                                <i class=\"iconfont icon-shouhuodizhi d-block\"></i>\r\n                                <span class=\"w-100\">收获地址</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mycol  d-line-block\" style=\"width:20%;\">\r\n                            <div class=\" d-line-block  mx-auto\" @click=\"goTo('/settings')\">\r\n                                <i class=\"iconfont icon-shezhi d-block\"></i>\r\n                                <span class=\"w-100\">设置</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import $ from 'jquery';\r\n    import {getLogout, getUser} from 'network/user';\r\n    import {ElMessage, ElLoading} from 'element-plus';\r\n\r\n    import {ref, reactive, toRefs, onMounted, computed} from 'vue' ;\r\n    import {useRouter} from 'vue-router';\r\n    import {useStore} from \"vuex\";\r\n\r\n    export default {\r\n        name: \"profile\",\r\n        setup() {\r\n            const router = useRouter();\r\n            const store = useStore();\r\n            const init_profile = ref(0);\r\n\r\n            // 用户登录信息模型\r\n            const state = reactive({\r\n                user: {\r\n                    avatar_url: '',           // 头像\r\n                    name: '',                 // 用户名称\r\n                    email: ''                 // 用户邮箱\r\n                }\r\n            });\r\n\r\n            onMounted(() => {\r\n                //console.log('用户信息：', store.getters.getUserNickname, store.getters.getUserNickname.length);\r\n\r\n                let loadingInstance = ElLoading.service({fullscreen: false, text: '加载页面中。。。', target: '._profile-box'});\r\n                if (store.getters.getUserNickname.length === 0) {   // 用户的昵称来决定是否重新获取用户数据\r\n                    console.log('正在向服务器发请请求');\r\n                    getUser().then(res => {               // 这里，是因为后端没有设置返回的状态码\r\n                        if (res.id) {\r\n                            state.user = res;\r\n                            init_profile.value = 1;\r\n                            store.commit('setUserNickname', state.user.name);\r\n                            store.commit('setUserFace', state.user.avatar_url);\r\n                            store.commit('setUserEmail', state.user.email);\r\n                        }\r\n                         console.log('user-data',res)\r\n                    }).catch(err => {\r\n                        console.log('user-err', err);\r\n                        ElMessage.error('获取用户信息失败，靖刷新页面');\r\n                        init_profile.value = -1;\r\n                    });\r\n                } else {\r\n                    state.user.avatar_url = store.getters.getUserFace;\r\n                    state.user.name = store.getters.getUserNickname;\r\n                    state.user.email = store.getters.getUserEmail;\r\n                    init_profile.value = 1;\r\n                }\r\n                if (loadingInstance !== null) {\r\n                    loadingInstance.close();                // 页面加载中...\r\n                    loadingInstance = null;\r\n                }\r\n            });\r\n\r\n            // 跳转方法\r\n            const goTo = (path, query) => {\r\n                router.push({path, query: query || {}});\r\n            };\r\n\r\n\r\n            const toLogout = () => {\r\n                getLogout().then(res => {\r\n                    if (res.status === 204) {\r\n                        ElMessage.success('退出成功');\r\n                    } else if (res.status === 401) {\r\n                        console.log('当前服务器请求身份验证');\r\n                        ElMessage.error('当前没有登录，请登录！');\r\n                    }\r\n                    window.localStorage.setItem('token', '');   // 清除token\r\n                    store.commit('setIsLogin', false);              // 清除登录状态信息\r\n\r\n                    store.commit('setShopCount', 0);\r\n\r\n                    store.commit('setAddressId', 0);      // 给vuex提交地址的ID\r\n                    store.commit('setAddressUserName','');\r\n                    store.commit('setAddressUserName','');\r\n                    store.commit('setAddressUserPhone','');\r\n                    store.commit('setAddressUserProvince','');\r\n                    store.commit('setAddressUserCity','');\r\n                    store.commit('setAddressUserCounty','');\r\n                    store.commit('setAddressUserDetail','');\r\n\r\n                    store.commit('setUserFace','');\r\n                    store.commit('setUserNickname','');\r\n                    store.commit('setUserEmail','');\r\n\r\n                    router.push({path: '/login'})\r\n\r\n                }).catch(err => {\r\n                    ElMessage.error('退出失败');\r\n                })\r\n            };\r\n            return {toLogout, ...toRefs(state), goTo, init_profile}\r\n        },\r\n    }\r\n\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    ._profile {\r\n        min-height: 540px;\r\n\r\n        #_profile-box {\r\n            position: relative;\r\n            max-width: 1200px;\r\n            border: 1px solid red; /*前面的值是在相反的位置，即以前面的值向left top 左上渐变*/\r\n            background: linear-gradient(to left top, #F1E4EE, #F9F4EF);\r\n\r\n            ._shopItemBox {\r\n                border-radius: 10px;\r\n                border: 3px solid #F1E4EE;\r\n                width: 99%;\r\n                margin: auto;\r\n                position: relative;\r\n\r\n                ._shopItem {\r\n                    ._shopRow > div.mycol {\r\n                        width: 20% !important;\r\n\r\n                        i.iconfont {\r\n                            font-size: 25px !important;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            ._shopCart {\r\n                i.iconfont {\r\n                    color: red;\r\n                }\r\n            }\r\n\r\n            ._shopDiscount {\r\n                i.iconfont {\r\n                    color: red;\r\n                }\r\n            }\r\n\r\n            ._shopSettings {\r\n                i.iconfont {\r\n                    color: #34F358;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        .txt-subtitle-space {\r\n            letter-spacing: 1.5px;\r\n        }\r\n\r\n        .txt-body-space {\r\n            letter-spacing: 1.3px;\r\n        }\r\n\r\n        .txt-subbody-space {\r\n            letter-spacing: 0.6px;\r\n        }\r\n    }\r\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=b88200b6&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=b88200b6&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\wamp64\\\\www\\\\giteeWarehouse\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b88200b6\"]])\n\nexport default __exports__"],"sourceRoot":""}