{"version":3,"sources":["webpack:///./src/views/shopcart/ShopCart.vue","webpack:///./src/views/shopcart/ShopCart.vue?a2a3","webpack:///./src/views/shopcart/ShopCart.vue?4ce8","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/assets/images/pic/bg-cart1.png"],"names":["class","id","style","src","alt","type","value","$store","state","cartCount","onManage","collection","length","list","item","index","key","goods","result","onCheck","collectBook","isCollect","$router","push","cover_url","title","num","price","size","min","onCheckAll","total","onSubmit","onChangeCollect","deleteGood","name","setup","router","store","collect","chooseResult","checkAll","shopCount","positionPre","isDelete","isCollectSinple","init","loadingInstance","service","fullscreen","text","target","then","res","data","forEach","filter","n","is_checked","map","getters","getShopCount","commit","warning","console","log","item_list","j","obj","Object","initCollect","catch","err","error","close","concat","onCollectGoodsId","item_collect","i","window","scroll","scrollTop","css","inputNodeShow","inputNode","siblings","config","changeCheckIcon","verifyCheckAll","changeCheck","currentNode","children","changeCheckAll","calNode","delNode","preDefaultFlag","inputNodeText","prop","removeClass","addClass","change","forbidBubbling","event","shopItem","shopItemChecked","isCheckAll","nodes","inputNode_s","inputNodeShow_s","click","item_choose","item_result","k","splice","newA","oldA","success","immediate","tVal","val","sum","parseInt","parseFloat","onChange","newNum","path","e","status","__exports__","render","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","len","E","this","A","arguments","TypeError","toAbsoluteIndex","toInteger","HAS_SPECIES_SUPPORT","max","Math","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","start","deleteCount","insertCount","actualDeleteCount","from","to","actualStart","argumentsLength","$map","callbackfn","module","exports"],"mappings":"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","file":"js/chunk-2f36a8a1.0582decc.js","sourcesContent":["<template>\r\n    <!--购物车内容-->\r\n    <div class=\"_shopcart d-flex justify-content-center align-items-start \">\r\n        <div id=\"_cart-box\" class=\"_cart-box card card-body px-0 mx-0 \">\r\n            <!--购物车标题栏-->\r\n            <div class=\"d-flex justify-content-between pb-2 pb-sm-3\">\r\n                <span class=\"txt-subtitle-space txt-body px-2 px-sm-3 \" style=\"font-weight:bold\">购物车（{{$store.state.cartCount}}）</span>\r\n                <!-- #E8DFE2,#F1E7DE-->\r\n                <div id=\"_manageBtn\" class=\"txt-mini px-2 px-sm-3\" @click=\"onManage()\">\r\n                    <div class=\"  _txt btn px-3 py-1 text-muted\">管理</div>\r\n                    <div class=\"  _btn btn rounded rounded-pill px-2 py-1 \">管理&nbsp;X</div>\r\n                </div>\r\n            </div>\r\n            <!--购物车商品栏-->\r\n            <div class=\"shopcart-content\">\r\n                <div v-if=\"collection.length>0\">\r\n                    <div class=\"_shopItemBox d-flex justify-content-center align-items-center\"\r\n                         v-for=\"(item,index) in list\" :key=\"item.goods.id\">\r\n                        <div class=\"_shopItem  bg-white row \"\r\n                             style=\" border-radius: 10px;border: 3px solid #F3E3DE; width: 99%;\">\r\n                            <div class=\"_shopClick col-1   d-flex flex-column justify-content-center align-items-center\">\r\n                                <input type=\"checkbox\" :value=\"result[index]\" class=\"selectItem\" style=\"display:none;\">\r\n                                <div class=\"selectItemShow\" @click.stop.prevent=\"onCheck(index)\">\r\n                                    <i class=\"iconfont icon-icon\" style=\"color:deeppink;font-size:25px\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"_shopMerchant col-11 align-self-center d-flex flex-column \">\r\n                                <div class=\" d-flex justify-content-between align-items-center pt-1\">\r\n                                    <div class=\" d-flex justify-content-start align-items-center\">\r\n                                        <i class=\"iconfont icon-dianpu   \" style=\"color:#52C48F;font-size:25px;\"></i>\r\n                                        <span class=\"txt-body px-1   \"\r\n                                              style=\"color:#B956A8;font-weight:bold\">书小狸书店</span>\r\n                                    </div>\r\n                                    <div class=\" d-flex justify-content-start align-items-center txt-mini text-muted\"\r\n                                         @click=\"collectBook(collection[index].id)\">\r\n                                        <span>收藏：</span>\r\n                                        <div class=\" d-inline\">\r\n                                            <img src=\"~assets/images/collection-fill.png\"\r\n                                                 v-show=\"collection[index].isCollect\" style=\"max-width:26px;\" alt=\"\">\r\n                                            <img src=\"~assets/images/collection.png\"\r\n                                                 v-show=\"!collection[index].isCollect\" style=\"max-width:26px;\" alt=\"\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"_shopBox container-fluid justify-content-start pb-1 d-flex flex-row justify-content-start px-0 mx-0\"\r\n                                     @click=\"$router.push({path:'/detail',query:{'id':item.goods.id}})\">\r\n                                    <div class=\"row w-100 px-2 d-flex justify-content-between\">\r\n                                        <div class=\"col-4 col-sm-4 col-md-3  d-flex justify-content-start align-items-center px-0 mx-0\">\r\n                                            <img :src=\"item.goods.cover_url\"\r\n                                                 alt=\"\" style=\"max-width:112px;\"\r\n                                                 class=\" align-self-center img-fluid img-thumbnail\">\r\n                                        </div>\r\n                                        <div class=\"_shopMessage col-8 col-sm-8 col-md-9 px-1 d-flex flex-column justify-content-between align-items-start px-0 mx-0\">\r\n                                            <div class=\"txt-body font-weight-bold py-1 text-truncate\">\r\n                                                {{item.goods.title}}\r\n                                            </div>\r\n                                            <div class=\"_shopNum txt-subbody d-flex flex-row justify-content-between align-items-center w-100\">\r\n                                                <span class=\"border border-danger border-lg text-danger px-1 text-truncate\">标准款式</span>\r\n                                                <span class=\"_myNum txt-body px-5  \">x{{num[index]}}</span>\r\n                                            </div>\r\n                                            <div class=\" d-flex justify-content-between  w-100 py-1\">\r\n                                                <div class=\"txt-body d-flex pt-1\">\r\n                                                    <span class=\" text-danger \">￥{{item.goods.price+'.00'}}</span>\r\n                                                    <span class=\"d-none d-sm-block px-0 px-sm-2 px-md-4 text-danger \">特惠商品</span>\r\n                                                </div>\r\n                                                <div class=\"  \" @click.stop.prevent=\"$router.push({path:'/shopcart'})\">\r\n                                                    <el-input-number size=\"mini\" :min=\"1\"\r\n                                                                     v-model=\"num[index]\"></el-input-number>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--数据不存在，提示信息-->\r\n            <div class=\"d-flex flex-column justify-content-start align-items-center\"\r\n                 style=\"height:400px;\" v-if=\"!collection.length\">\r\n                <img src=\"~assets/images/pic/bg-cart1.png\" alt=\"\" class=\"img-responsive \" style=\"max-width:400px;\">\r\n                <span class=\"px-1 btn text-danger border border-danger px-2\"\r\n                      @click=\"$router.push({path:'/home'})\">前往选购</span>\r\n            </div>\r\n            <!--结算商品栏：默认显示-->\r\n            <div id=\"_calculate\" class=\"_totalBalance bg-white py-1 py-sm-2 w-100\" v-if=\"list.length>0\" >\r\n                <div class=\"row w-100\">\r\n                    <div class=\"_checkAll col-3 col-sm-2   d-flex flex-row justify-content-center align-items-center\"\r\n                         @click=\"onCheckAll(0)\">\r\n                        <input type=\"checkbox\" value=\"\" class=\"selectItemAll\" style=\"display:none\">\r\n                        <div class=\"selectItemShow\">\r\n                            <i class=\"iconfont icon-icon\" style=\"color:deeppink;font-size:25px\"></i>\r\n                        </div>\r\n                        <span class=\"txt-mini text-muted px-1\">全选</span>\r\n                    </div>\r\n                    <div class=\"_checkBtn col-9 col-sm-10    d-flex justify-content-end align-items-center\">\r\n                        <div class=\"mx-3   \">\r\n                            <span class=\"txt-subbody\">合计:</span>\r\n                            <span class=\"txt-subbody text-danger\">￥</span>\r\n                            <span class=\"txt-subtitle text-danger\">{{total}}</span>\r\n                        </div>\r\n                        <div class=\"bg-danger border border-danger text-white rounded rounded-pill px-4 py-2\"\r\n                             @click=\"onSubmit\">\r\n                            <span>结算</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--删除商品栏：默认隐藏-->\r\n            <div id=\"_delete\" class=\"_totalBalance bg-white py-1 py-sm-2 w-100\" style=\"display:none\">\r\n                <div class=\"row w-100\">\r\n                    <div class=\"_checkAll col-3 col-sm-2   d-flex flex-row justify-content-center align-items-center\"\r\n                         @click=\"onCheckAll(1)\">\r\n                        <input type=\"checkbox\" value=\"\" class=\"selectItemAll\" style=\"display:none\">\r\n                        <div class=\"selectItemShow\">\r\n                            <i class=\"iconfont icon-icon\" style=\"color:deeppink;font-size:25px\"></i>\r\n                        </div>\r\n                        <span class=\"txt-mini text-muted px-1\">全选</span>\r\n                    </div>\r\n                    <div class=\"_checkBtn col-9 col-sm-10    d-flex justify-content-end align-items-center\">\r\n                        <div class=\"mx-3  rounded rounded-pill px-4 py-2 \"\r\n                             style=\"color:#9EB648;border:1px solid #9EB648 ; \" @click=\"onChangeCollect\">\r\n                            <span id=\"_collectBtn\">移入收藏夹</span>\r\n                        </div>\r\n                        <div class=\"border border-danger text-danger rounded rounded-pill px-3 py-2\">\r\n                            <span id=\"_deleteBtn\" @click.stop.prevent=\"deleteGood\">删除</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import $ from 'jquery';\r\n    import {ElMessage, ElLoading} from 'element-plus';\r\n    import {getCollectList, changeCollection} from 'network/collect';\r\n    import {getCart, deleteCartItem, checkedCard, modifyCart} from 'network/cart';\r\n\r\n    import {ref, reactive, toRefs, onMounted, computed, watch} from 'vue' ;\r\n    import {useRouter} from 'vue-router';\r\n    import {useStore} from \"vuex\";\r\n\r\n    export default {\r\n        name: \"shopcart\",\r\n        setup() {\r\n            const router = useRouter();\r\n            const store = useStore();\r\n\r\n            // 数据模型,状态\r\n            const state = reactive({\r\n                list: [],          // 商品数据,只有读取属性\r\n                collect: [],        // 收藏商品数据\r\n\r\n                num: [],                 // 商品数量, 在结算的时候，后统一修改数据\r\n\r\n                collection: [],           // 商品id， 是否收藏，以这个为标准  true,false\r\n                result: [],              // 购物车id， 修改数据是以这个为标准\r\n\r\n                chooseResult: [],         // 已经选择的购物商品的购物车id\r\n                checkAll: false,         // 是否全选\r\n            });\r\n\r\n            // 数据绑定\r\n            const shopCount = ref(1);              // 商品数量\r\n            let positionPre = ref(0);              // 滚动条的上一个位置\r\n\r\n\r\n            let isDelete = ref(0);                  // 确认删除的标志位\r\n            let isCollectSinple = ref(0);           // 确认收藏的标志位\r\n\r\n\r\n            // 模板编译完成后，立即开始获取获取数据\r\n            onMounted(() => {\r\n                init();\r\n            });\r\n\r\n            // 初始化购物车数据\r\n            const init = () => {\r\n                let loadingInstance = ElLoading.service({\r\n                    fullscreen: false,\r\n                    text: '加载页面中。。。',\r\n                    target: '._cart-box'\r\n                });\r\n\r\n                getCart('include=goods').then(res => {    //发送请求，获取购物车中的数据\r\n                    state.list = res.data;\r\n                    state.list.forEach(item => {\r\n                        state.num.push(item.num);\r\n                    });\r\n                    state.result = res.data.filter((n) => n.is_checked === 1).map(item => item.id);\r\n                    // map有点类似，列表推导式\r\n                    if (store.getters.getShopCount === 0 && state.list.length > 0) {\r\n                        store.commit('setShopCount', state.list.length);\r\n                    }\r\n                    if (state.list.length === 0) {\r\n                        ElMessage.warning(\"当前购物车没有商品\");\r\n                        store.commit('setShopCount', 0);\r\n                    } else {\r\n                        console.log('shopcart-data1', res.data);\r\n                        state.list.forEach((item_list, j) => {      // 商品id是number型，而input获取的数据是string类型\r\n                            var obj = new Object();\r\n                            obj.id = item_list.goods.id;\r\n                            obj.isCollect = false;\r\n                            state.collection.push(obj);\r\n                        });\r\n                        initCollect();\r\n                    }\r\n                }).catch(err => {\r\n                    console.log('shopcart-err', err);\r\n                    ElMessage.error(\"获取购物车数据失败\");\r\n                });\r\n                if (loadingInstance !== null) {\r\n                    loadingInstance.close();                // 页面加载中...\r\n                    loadingInstance = null;\r\n                }\r\n\r\n            };\r\n\r\n            // 初始化收藏数据\r\n            const initCollect = () => {\r\n                getCollectList(0).then(res => {\r\n                    console.log('collection-data', res);        // 这里没有状态码返回\r\n                    state.collect = state.collect.concat(res.data);\r\n                    onCollectGoodsId();\r\n                }).catch(err => {\r\n                    console.log('collection-err', err);\r\n                    ElMessage.error('获取收藏数据错误')\r\n                });\r\n            };\r\n\r\n            // 对商品检测是否收藏\r\n            const onCollectGoodsId = () => {\r\n                //state.collection = [];                     //清空数据\r\n                if (state.list.length !== 0) {\r\n                    state.list.forEach((item_list, j) => {      // 商品id是number型，而input获取的数据是string类型\r\n                        state.collect.forEach((item_collect, i) => {\r\n                            if (item_list.goods.id == item_collect.goods.id) {        // 不再使用真实的数据，否则会出现数据延迟的现象\r\n                                state.collection[j].isCollect = true;\r\n                                console.log(state.collection[j].isCollect);\r\n                            }\r\n                        });\r\n                        //state.collection.push(obj);\r\n                    })\r\n                } else {\r\n                    console.log('当前商品为空')\r\n                }\r\n            };\r\n\r\n            // 监听窗口滚动事件， 自动执行\r\n            $(window).scroll(function () {\r\n                if (positionPre.value >= $(window).scrollTop()) {     // 上滑\r\n                    $('._totalBalance').css({'position':'fixed', 'bottom': '0'});\r\n                } else {                                              // 下滑\r\n                    $('._totalBalance').css('position', 'relative');\r\n                }\r\n                positionPre.value = $(window).scrollTop()\r\n            });\r\n\r\n            //  商品切换勾选状态\r\n            const onCheck = (index) => {\r\n                var inputNodeShow = $('div.shopcart-content div._shopItemBox:eq(' + index + ') div._shopItem div._shopClick div.selectItemShow');\r\n                var inputNode = inputNodeShow.siblings('input');\r\n                config.changeCheckIcon(inputNode, inputNodeShow);\r\n                config.verifyCheckAll();                      // 只有商品全部选中才会触发点击全选的事件\r\n                changeCheck();\r\n            };\r\n\r\n            //  全选功能,包括结算、删除两种情况\r\n            const onCheckAll = (index) => {\r\n                var currentNode = $('._cart-box div._totalBalance:eq(' + index + ') div.row div._checkAll');\r\n                var inputNode = currentNode.children('input');\r\n                var inputNodeShow = currentNode.children('div.selectItemShow');\r\n                config.changeCheckIcon(inputNode, inputNodeShow);\r\n                config.changeCheckAll(inputNode);        // 只有商品全部选中才会触发点击全选的事件  //如果商品数量足够多，可能会影响部分性能\r\n                changeCheck();\r\n            };\r\n\r\n            // 切换管理按钮：删除和合计功能\r\n            const onManage = () => {\r\n                var calNode = $(\"#_calculate\");\r\n                var delNode = $(\"#_delete\");\r\n                var currentNode = $('#_manageBtn');\r\n                if (calNode.css('display') === 'none') {\r\n                    calNode.css('display', 'block');\r\n                    delNode.css('display', 'none');\r\n                    currentNode.children('div._txt').css('display', 'block');\r\n                    currentNode.children('div._btn').css('display', 'none');\r\n                } else {\r\n                    calNode.css('display', 'none');\r\n                    delNode.css('display', 'block');\r\n                    currentNode.children('div._txt').css('display', 'none');\r\n                    currentNode.children('div._btn').css('display', 'block');\r\n                }\r\n                changeCheck();\r\n            };\r\n\r\n            // 工具栏：切换勾选状态的配置\r\n            const config = {\r\n                // 更改图标\r\n                changeCheckIcon: function (inputNode, inputNodeShow, preDefaultFlag = null) {\r\n                    var inputNodeText = null;\r\n                    if (preDefaultFlag === null) {\r\n                        inputNodeText = inputNode.prop('checked');\r\n                    } else if (preDefaultFlag === true) {\r\n                        inputNodeText = true;\r\n                    } else {\r\n                        inputNodeText = false;\r\n                    }\r\n                    if (inputNodeText) {\r\n                        inputNode.prop('checked', false);\r\n                        inputNodeShow.children('.iconfont').removeClass('icon-gouhao').addClass('icon-icon');\r\n                    } else {\r\n                        inputNode.prop('checked', true);\r\n                        inputNodeShow.children('.iconfont').removeClass('icon-icon').addClass('icon-gouhao');\r\n                    }                           // 事件必需触发，因为是\r\n                    inputNode.change();\r\n                },\r\n                // 禁止事件冒泡\r\n                forbidBubbling: function (event) {                                    // 取消事件冒泡\r\n                    return false;\r\n                    event.preventDefault();\r\n                    event.stoPropagation();                                        //取消连锁反应    (也可以取消超链接的页面的跳转)\r\n                },\r\n                // 检测商品项是否全部选中\r\n                verifyCheckAll: function () {\r\n                    var shopItem = $('._cart-box div._shopItemBox div._shopItem div._shopClick input');\r\n                    var shopItemChecked = $('._cart-box div._shopItemBox div._shopItem div._shopClick input:checked');\r\n\r\n                    var checkAll = $('._cart-box div._totalBalance div.row div._checkAll');\r\n                    var inputNode = checkAll.children('input');\r\n                    var inputNodeShow = checkAll.children('div.selectItemShow');\r\n\r\n                    if (shopItem.length === shopItemChecked.length) {    // 1.当前已经全选\r\n                        config.changeCheckIcon(inputNode, inputNodeShow, false); // 设定原来不全选\r\n                    } else {                                            // 2.当前没有全选\r\n                        config.changeCheckIcon(inputNode, inputNodeShow, true); // 设定原来全选\r\n                    }\r\n                },\r\n                // 改变全选状态\r\n                changeCheckAll: function (inputNode) {\r\n                    let isCheckAll = false;\r\n                    if (inputNode.prop('checked')) {\r\n                        isCheckAll = true;\r\n                    } else {\r\n                        isCheckAll = false;\r\n                    }\r\n                    var nodes = $('._cart-box div._shopItemBox div._shopItem div._shopClick');\r\n                    for (let i = 0; i < nodes.length; i++) {\r\n                        var inputNode_s = $(nodes[i]).children('input');                   // nodes[i]已经是一个DOM节点对象了\r\n                        var inputNodeShow_s = $(nodes[i]).children('div.selectItemShow');\r\n                        config.changeCheckIcon(inputNode_s, inputNodeShow_s, !isCheckAll);    // 设定原来都是与全选相反的\r\n                        inputNode_s.click();\r\n                        inputNode_s.click();                 // 这里为了处理数据，而采取的方法。可能会对性能造成一定的影响\r\n                    }\r\n                }\r\n            };\r\n\r\n\r\n            // 删除商品\r\n            const deleteGood = () => {\r\n                isDelete.value = 0;\r\n                if (state.chooseResult.length !== 0) {\r\n\r\n                    state.chooseResult.forEach((item_choose, j) => {      // 商品id是number型，而input获取的数据是string类型\r\n                        state.list.forEach((item_list, i) => {\r\n                            if (state.list[i].id == state.chooseResult[j]) {        // 不再使用真实的数据，否则会出现数据延迟的现象\r\n                                deleteCartItem(state.chooseResult[j]).then(res => {\r\n                                    state.result.forEach((item_result, k) => {            // 删除state.result中的商品的id\r\n                                        if (state.result[k] == state.chooseResult[j]) {\r\n                                            state.result.splice(k, 1);\r\n                                        }\r\n                                    });\r\n                                    if (j === state.chooseResult.length - 1) {\r\n                                        state.chooseResult.splice(j, 1);            // 删除当前选项\r\n                                        state.list.splice(i, 1);            // 删除当前选项\r\n                                        isDelete.value = 1;\r\n                                    } else {\r\n                                        state.chooseResult.splice(j, 1);            // 删除当前选项\r\n                                        state.list.splice(i, 1);            // 删除当前选项\r\n                                    }\r\n                                }).catch(err => {\r\n                                    console.log('shopcart-del-err', err);\r\n                                    isDelete.value = -1;\r\n                                });\r\n                            }\r\n                        })\r\n                    })\r\n                } else {\r\n                    ElMessage.warning('删除的商品不能为空')\r\n                }\r\n            };\r\n\r\n            // 监听删除商品的结果\r\n            watch(() => isDelete.value, (newA, oldA) => {                 // 对单个值进行监听, 因为是异步监听，所以更新的数据是在前面。\r\n                if (newA === -1) {\r\n                    ElMessage.error('删除商品失败');\r\n                } else if (newA === 1) {\r\n                    store.commit('setShopCount', state.list.length);\r\n                    ElMessage.success('已经成功删除商品');\r\n                }\r\n            }, {immediate: true});\r\n\r\n            // 改变勾选状态\r\n            const changeCheck = () => {\r\n                state.chooseResult = [];\r\n                state.result = state.list.filter((n) => n.is_checked === 1).map(item => item.id);\r\n                var shopItem = $('._cart-box div._shopItemBox div._shopItem div._shopClick input');    // 直接操作DOM节点，会产生一定的性能损耗\r\n                for (let i = 0; i < shopItem.length; i++) {      // 这里还是一个普通的object对象\r\n                    // 需要检测每一个多选框是否处于勾选状态\r\n                    if ($(shopItem[i]).prop('checked')) {\r\n                        var tVal = $(shopItem[i]).val();\r\n                        state.chooseResult.push(tVal);\r\n                    }\r\n                }\r\n            };\r\n\r\n            // 计算商品总价\r\n            const total = computed(() => {\r\n                let sum = 0;\r\n                for (let i = 0; i < state.list.length; i++) {\r\n                    for (let j = 0; j < state.chooseResult.length; j++) {      // 商品id是number型，而input获取的数据是string类型\r\n                        if (state.list[i].id == state.chooseResult[j]) {        // 不再使用真实的数据，否则会出现数据延迟的现象\r\n                            sum += parseInt(state.num[i]) * parseFloat(state.list[i].goods.price);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return sum;\r\n            });\r\n\r\n\r\n            // 修改购物车数量\r\n            const onChange = (id, newNum) => {\r\n                modifyCart(id, {num: newNum}).then(res => {    // 发送请求，修改购物车中商品的数量\r\n                    //console.log('修改数据成功')\r\n                }).catch(err => {\r\n                    console.log('修改数量失败')\r\n                });\r\n            };\r\n\r\n            // 创建定单\r\n            // 开始修改数据; 这里可能会产生大量的等待时间，但可以在后端优化。减少这个等待时间\r\n            // 只对勾选的数据进行修改服务器中的数据。\r\n            const onSubmit = () => {\r\n                if (state.chooseResult.length === 0) {\r\n                    ElMessage.error('请选择商品进行结算')\r\n                } else {\r\n                    try {\r\n                        for (let i = 0; i < state.list.length; i++) {\r\n                            for (let j = 0; j < state.chooseResult.length; j++) {     // 商品id是number型，而input获取的数据是string类型\r\n                                if (state.list[i].id == state.chooseResult[j]) {       // 不再使用真实的数据，否则会出现数据延迟的现象\r\n                                    onChange(state.chooseResult[j], state.num[i]);\r\n                                }\r\n                            }\r\n                        }\r\n                        router.push({path: '/createorder'});\r\n                    } catch (e) {\r\n                        ElMessage.error('结算出现异常！请重试')\r\n                    }\r\n                }\r\n\r\n            };\r\n\r\n            // 添加收藏或移除收藏\r\n            const onChangeCollect = () => {\r\n                isCollectSinple.value = 0;\r\n                if (state.chooseResult.length !== 0) {\r\n                    state.chooseResult.forEach((item_choose, j) => {\r\n                        state.list.forEach((item_list, i) => {\r\n                            if (state.list[i].id == state.chooseResult[j]) {        // 不再使用真实的数据，否则会出现数据延迟的现象\r\n                                changeCollection(item_list.goods.id).then(res => {\r\n                                    if (res.status === 201) {\r\n                                        if (j === state.chooseResult.length - 1) {\r\n                                            isCollectSinple.value = 1;\r\n                                        }\r\n                                        state.collection[i].isCollect = true;\r\n                                        console.log('已经收藏商品', item_list.goods.id);\r\n                                    } else if (res.status === 204) {\r\n                                        if (j === state.chooseResult.length - 1) {\r\n                                            isCollectSinple.value = 2;\r\n                                        }\r\n                                        state.collection[i].isCollect = false;\r\n                                        console.log('已经取消收藏', item_list.goods.id);\r\n                                    } else {\r\n                                        console.log('注意：收藏商品需要登录', item_list.goods.id);\r\n                                        isCollectSinple.value = -2;\r\n                                    }\r\n                                }).catch(err => {\r\n                                    console.log('shopcart-collect-all-err', err);\r\n                                    isCollectSinple.value = -1;\r\n                                });\r\n\r\n                            }\r\n                        });\r\n                    });\r\n                } else {\r\n                    ElMessage.warning('收藏的商品不能为空')\r\n                }\r\n\r\n            };\r\n            // 监听添加收藏的结果\r\n            watch(() => isCollectSinple.value, (newA, oldA) => {                 // 对单个值进行监听, 因为是异步监听,所以更新的数据是在前面。\r\n                if (newA === -1) {\r\n                    ElMessage.error('收藏错误！请重试');\r\n                } else if (newA === -2) {\r\n                    ElMessage.warning('注意：收藏商品需要登录');\r\n                } else if (newA === 1) {\r\n                    ElMessage.success('已经收藏商品');\r\n                } else if (newA === 2) {\r\n                    ElMessage.success('已经取消收藏');\r\n                }\r\n            }, {immediate: true});\r\n\r\n\r\n            // 单独商品进行收藏\r\n            const collectBook = (id) => {\r\n                changeCollection(id).then(res => {\r\n                    if (res.status === 201) {\r\n                        ElMessage.success('已经收藏商品', id);\r\n                        state.collection.forEach((item, index) => {\r\n                            if (item.id === id) {\r\n                                state.collection[index].isCollect = true;\r\n                            }\r\n                        });\r\n                    } else if (res.status === 204) {\r\n                        ElMessage.success('已经取消收藏', id);\r\n                        state.collection.forEach((item, index) => {\r\n                            if (item.id === id) {\r\n                                state.collection[index].isCollect = false;\r\n                            }\r\n                        });\r\n                    } else {\r\n                        ElMessage.warning('注意：收藏商品需要登录');\r\n                    }\r\n                }).catch(err => {\r\n                    console.log('shopcart-collect-err', err);\r\n                    ElMessage.error('收藏错误！请重试')\r\n                });\r\n            };\r\n\r\n            return {\r\n                shopCount, ...toRefs(state), deleteGood, total, onSubmit, changeCheck,\r\n                onManage, onCheckAll, onCheck, onChangeCollect, collectBook\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    ._shopcart {\r\n        min-height: 600px;\r\n\r\n        #_cart-box {\r\n            position: relative;\r\n            max-width: 1200px;\r\n            min-height:580px;\r\n            border: 1px solid red; /*前面的值是在相反的位置，即以前面的值向left top 左上渐变*/\r\n            background: linear-gradient(to left top, #F1E4EE, #F9F4EF);\r\n\r\n            ._totalBalance {\r\n                position: relative;\r\n                left:0;\r\n                right:0;\r\n                border-top: 3px solid #E1DEE1;\r\n                z-index: 90;\r\n            }\r\n\r\n            #_manageBtn div._btn {\r\n                position: relative;\r\n                color: #E79989;\r\n                border: 1px solid #E79989;\r\n                font-weight: bold;\r\n                display: none;\r\n            }\r\n\r\n            .shopcart-content {\r\n                position: relative;\r\n                width: 100%;\r\n                /*left: 0;\r\n                top: 0;\r\n                right: 0;\r\n                bottom: 0;\r\n                margin:0 auto;\r\n                ._shopItemBox{\r\n                    border:2px solid #BAF3EA;\r\n                    border-radius:10px;\r\n                }*/\r\n            }\r\n        }\r\n\r\n        .txt-subtitle-space {\r\n            letter-spacing: 1.5px;\r\n        }\r\n\r\n        .txt-body-space {\r\n            letter-spacing: 1px;\r\n        }\r\n    }\r\n</style>","import { render } from \"./ShopCart.vue?vue&type=template&id=1b2394df&scoped=true\"\nimport script from \"./ShopCart.vue?vue&type=script&lang=js\"\nexport * from \"./ShopCart.vue?vue&type=script&lang=js\"\n\nimport \"./ShopCart.vue?vue&type=style&index=0&id=1b2394df&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\wamp64\\\\www\\\\giteeWarehouse\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1b2394df\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ShopCart.vue?vue&type=style&index=0&id=1b2394df&scoped=true&lang=scss\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/bg-cart1.3d8f4454.png\";"],"sourceRoot":""}